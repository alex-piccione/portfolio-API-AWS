# syntax ref.: https://www.serverless.com/framework/docs/providers/aws/guide/serverless.yml/
service: Portfolio AWS API F#
configValidationMode: error

provider:
  name: aws
  runtime: dotnetcore3.1  
  stackName: Portfolio # CloudFormation stack name
  apiName: Portfolio # API Gateway name
  #restApiId: 
  deploymentBucket:
    name: Portfolio-AWS-API-fsharp-functions
  lambdaHashingVersion: "20201221"

  environment:
    handler_prefix: "Portfolio.API::Portfolio.Lambda.Functions" # Assembly::Namespace prefix, contatenate .Class::Method
    zipFile: functions.zip

package:
  individually: true

functions:
  currency_list:
    handler: ${self:provider.environment.handler_prefix}.Currency_List::Handle   # assembly::namespace.class::method
    package: &package
      artifact: ${self:provider.environment.zipFile}
    events:
    - http:
      method: GET
      path: currency
      cors: true
